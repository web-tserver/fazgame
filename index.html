<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>FAZGAME | Faz Service, Faz Gaming</title>

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">

<style>
:root {
  --bg: #000;
  --card: rgba(255, 255, 255, .08);
  --text: #fff;
  --muted: #d1d1d1;
  --accent: #ffd84d;
  --accent-dark: #e6c43d;
  --transition: 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

* { margin: 0; padding: 0; box-sizing: border-box; }
body { font-family: Inter, system-ui, sans-serif; background: var(--bg); color: var(--text); overflow-x: hidden; line-height: 1.5; }
a { text-decoration: none; color: inherit; }

/* Header */
header { position: sticky; top: 0; z-index: 1000; background: rgba(0, 0, 0, .9); backdrop-filter: blur(15px); padding: 12px 16px; border-bottom: 1px solid rgba(255,255,255,0.05); }
.header-inner { max-width: 1200px; margin: auto; display: flex; align-items: center; justify-content: space-between; }
.logo { font-weight: 800; font-size: 20px; color: var(--accent); letter-spacing: 1px; }
.header-logos { display: flex; gap: 16px; }
.header-logos img { width: 22px; filter: invert(1); opacity: .7; transition: var(--transition); }
.header-logos img:hover { opacity: 1; transform: translateY(-2px); }

/* Banner Section */
.banner { position: relative; min-height: 450px; display: flex; align-items: center; overflow: hidden; }
.banner-slide { position: absolute; inset: 0; background-size: cover; background-position: center; opacity: 0; transition: opacity 1.5s ease; z-index: 1; }
.banner-slide.active { opacity: 1; }
.banner::after { content: ""; position: absolute; inset: 0; background: linear-gradient(to bottom, rgba(0,0,0,0.3), rgba(0,0,0,0.95)); z-index: 2; }
.banner-content { position: relative; z-index: 3; width: 100%; max-width: 1200px; margin: auto; padding: 20px; }
.banner-card { max-width: 560px; background: rgba(8, 8, 12, 0.85); backdrop-filter: blur(10px); border-radius: 24px; padding: 32px; border: 1px solid rgba(255,255,255,0.1); box-shadow: 0 20px 40px rgba(0,0,0,0.4); }
.hero-logo { font-size: 40px; font-weight: 800; color: #fff; margin-bottom: 4px; letter-spacing: 2px; }
.hero-logo span { color: var(--accent); }
.tagline { font-weight: 600; color: var(--accent); margin-bottom: 20px; font-size: 15px; }

/* Service Chips */
.service-chips { display: flex; flex-wrap: wrap; gap: 10px; margin-top: 15px; }
.service-chip { background: rgba(255,255,255,.08); padding: 6px 14px; border-radius: 999px; cursor: pointer; font-size: 13px; font-weight: 600; transition: var(--transition); border: 1px solid transparent; }
.service-chip:hover { background: rgba(255,255,255,.15); }
.service-chip.primary { border-color: var(--accent); color: var(--accent); background: rgba(255, 216, 77, 0.05); }

/* Stats */
.hero-stats { display: flex; gap: 30px; margin: 25px 0; flex-wrap: wrap; }
.stat h2 { font-size: 28px; font-weight: 800; color: var(--accent); line-height: 1; }
.stat p { font-size: 12px; color: var(--muted); margin-top: 6px; }
.counter-glow { animation: counterPulse 1.5s ease-in-out infinite alternate; }
@keyframes counterPulse { 0% { text-shadow: 0 0 4px rgba(255,216,77,.4); } 100% { text-shadow: 0 0 16px rgba(255,216,77,.9); } }

/* Socials & CTA */
.sticky-cta { position: sticky; top: 68px; z-index: 900; background: rgba(0,0,0,0.85); backdrop-filter: blur(10px); padding: 12px 16px; border-bottom: 1px solid rgba(255,255,255,0.05); }
.btn { display: block; max-width: 360px; margin: auto; padding: 14px; border-radius: 14px; background: var(--accent); color: #000; font-weight: 800; text-align: center; transition: var(--transition); border: none; cursor: pointer; }
.btn:hover { background: var(--accent-dark); transform: translateY(-2px); box-shadow: 0 8px 20px rgba(255, 216, 77, 0.3); }

.social-row { display: flex; gap: 12px; margin-top: 20px; }
.social-item { width: 42px; height: 42px; border-radius: 50%; background: rgba(255,255,255,0.05); display: flex; align-items: center; justify-content: center; transition: var(--transition); }
.social-item img { width: 20px; filter: invert(1); }
.social-item:hover { background: var(--accent); transform: translateY(-3px); }
.social-item:hover img { filter: invert(0); }

/* Installment Banner */
.installment-banner { margin-top: 20px; font-size: 13px; text-align: center; color: rgba(255,216,77,.9); font-weight: 600; letter-spacing: .5px; animation: fadeInInstall 1.2s ease forwards; opacity: 0; }
@keyframes fadeInInstall { to { opacity: 1; } }

/* Grids */
section { padding: 60px 20px; max-width: 1200px; margin: auto; }
.section-title { font-size: 24px; font-weight: 800; margin-bottom: 8px; }
.section-subtitle { font-size: 13px; color: var(--accent); margin-bottom: 24px; opacity: 0.9; }
.hot-grid { display: grid; gap: 20px; grid-template-columns: repeat(auto-fill, minmax(240px, 1fr)); }

/* Advanced Card Effects + Tilt */
.hot-card { 
  position: relative; border-radius: 20px; overflow: hidden; background: #111; aspect-ratio: 4/5; 
  transition: transform 0.4s ease, box-shadow 0.4s ease; cursor: pointer;
  transform-style: preserve-3d; perspective: 1400px; will-change: transform;
}
.hot-card img { width: 100%; height: 100%; object-fit: cover; display: block; transition: transform 0.8s ease; transform: translateZ(30px) scale(1.05); }
.hot-card:hover img { transform: translateZ(50px) scale(1.15); }
.hot-card:hover { transform: translateY(-8px); box-shadow: 0 15px 35px rgba(255, 216, 77, 0.2); z-index: 5; }

/* Metallic Reflection Shine */
.hot-card::after {
  content: ""; position: absolute; top: -40%; left: -150%; width: 70%; height: 200%;
  background: linear-gradient(115deg, transparent 0%, rgba(255,255,255,0.05) 35%, rgba(255,255,255,0.5) 48%, rgba(255,255,255,0.8) 50%, rgba(255,255,255,0.5) 52%, rgba(255,255,255,0.05) 65%, transparent 100%);
  transform: skewX(-25deg); z-index: 3; pointer-events: none; opacity: 0; filter: blur(1px);
}
.hot-card:hover::after { animation: metallicShine 0.7s forwards; opacity: 1; }
@keyframes metallicShine { to { left: 180%; } }

/* 3D Glow overlay */
.hot-card::before {
  content: ""; position: absolute; inset: 0; border-radius: inherit; pointer-events: none; opacity: 0; transition: opacity .3s ease; z-index: 4;
  background: radial-gradient(circle at var(--x, 50%) var(--y, 50%), rgba(255,255,255,.15), transparent 60%);
}
.hot-card:hover::before { opacity: 1; }

.hot-card-content { position: absolute; bottom: 0; left: 0; right: 0; padding: 24px; background: linear-gradient(transparent, rgba(0,0,0,0.95)); z-index: 4; transform: translateZ(60px); }
.hot-title { font-weight: 800; font-size: 16px; margin-bottom: 4px; }
.hot-desc { font-size: 13px; color: var(--muted); font-weight: 600; }

/* Badges */
.badge { position: absolute; top: 15px; z-index: 5; font-size: 10px; font-weight: 800; padding: 6px 12px; border-radius: 20px; transform: translateZ(60px); }
.badge-left { left: 15px; background: rgba(255,255,255,0.9); color: #000; }
.badge-right { right: 15px; background: var(--accent); color: #000; }
.badge-red { background: #ff3b3b; color: #fff; }
.badge-green { background: #3cff7f; color: #000; }

/* Stock Grid */
.search-box { width: 100%; max-width: 400px; padding: 14px 24px; border-radius: 16px; border: 1px solid rgba(255,255,255,0.1); background: #111; color: #fff; margin-bottom: 20px; font-size: 14px; outline: none; transition: var(--transition); }
.search-box:focus { border-color: var(--accent); box-shadow: 0 0 15px rgba(255, 216, 77, 0.1); }

.filter-tabs { display: flex; gap: 8px; flex-wrap: wrap; margin-bottom: 24px; }
.filter-btn { padding: 8px 16px; border-radius: 30px; border: 1px solid rgba(255,255,255,0.05); background: #111; color: #fff; cursor: pointer; white-space: nowrap; font-size: 12px; font-weight: 600; transition: var(--transition); }
.filter-btn.active { background: var(--accent); color: #000; border-color: var(--accent); }
.filter-count { margin-left: 6px; background: #000; color: #fff; padding: 2px 6px; border-radius: 999px; font-size: 10px; }
.filter-btn.active .filter-count { background: rgba(0,0,0,0.2); color: #000; }

.product-grid { display: grid; gap: 14px; grid-template-columns: repeat(auto-fill, minmax(320px, 1fr)); }
.product-card { background: var(--card); border-radius: 16px; padding: 16px; display: flex; gap: 16px; align-items: center; border: 1px solid rgba(255,255,255,0.05); transition: var(--transition); position: relative; }
.product-card:hover { background: rgba(255,255,255,0.12); border-color: rgba(255,216,77,0.2); }
.product-icon { width: 64px; height: 64px; background: #111; border-radius: 12px; flex-shrink: 0; display: flex; align-items: center; justify-content: center; }
.product-icon img { width: 32px; filter: invert(1); }
.product-info { flex: 1; }
.product-info h4 { font-size: 14px; font-weight: 700; margin-bottom: 4px; padding-right: 40px; }
.product-price { color: var(--accent); font-weight: 800; font-size: 15px; }
.product-buy { background: var(--accent); color: #000; border: none; padding: 8px 14px; border-radius: 10px; font-weight: 800; font-size: 11px; cursor: pointer; transition: var(--transition); }
.product-buy:hover { background: var(--accent-dark); transform: scale(1.05); }

/* Tiny Badges for Stock Items */
.card-badge { position: absolute; font-size: 9px; font-weight: 800; padding: 3px 8px; border-radius: 8px; text-transform: uppercase; }
.card-badge-type { top: 12px; right: 12px; }
.card-badge-cond { top: 12px; left: 12px; }

/* Preloader */
#preloader { position: fixed; inset: 0; background: #000; z-index: 10000; display: flex; align-items: center; justify-content: center; transition: opacity 0.6s ease; }
#preloader.hide { opacity: 0; pointer-events: none; }
.loader-bar-wrap { width: 240px; height: 4px; background: #222; margin-top: 20px; border-radius: 10px; overflow: hidden; }
.loader-bar { height: 100%; width: 0%; background: var(--accent); transition: width 0.1s; }

/* Lightbox */
#imageModal { position: fixed; inset: 0; background: rgba(0,0,0,0.92); backdrop-filter: blur(6px); z-index: 10001; display: none; align-items: center; justify-content: center; cursor: zoom-out; padding: 20px; }
#imageModal.show { display: flex; }
#modalImg { max-width: 95%; max-height: 90vh; border-radius: 16px; box-shadow: 0 0 50px rgba(0,0,0,0.6); transform: scale(0.9); transition: transform 0.3s ease; }
#imageModal.show #modalImg { transform: scale(1); }

/* Payment Icons */
.payment-icons { display: flex; justify-content: center; gap: 30px; flex-wrap: wrap; margin-top: 20px; }
.payment-item { display: flex; align-items: center; gap: 10px; font-size: 14px; opacity: 0.8; }
.payment-item img { height: 25px; filter: invert(1); }

footer { text-align: center; padding: 40px 20px; color: #aaa; font-size: 13px; border-top: 1px solid rgba(255,255,255,0.05); margin-top: 20px; }

@media (max-width: 768px) {
  .hero-logo { font-size: 32px; }
  .banner-card { padding: 24px; margin: 0 10px; }
  .hero-stats { gap: 15px; }
}
</style>
</head>
<body>

<div id="preloader">
  <div style="text-align: center;">
    <div class="logo" style="font-size: 28px;">FAZ<span>GAME</span></div>
    <div class="loader-bar-wrap"><div class="loader-bar" id="loaderBar"></div></div>
  </div>
</div>

<div id="imageModal"><img id="modalImg" src="" alt="Preview"></div>

<header>
  <div class="header-inner">
    <div class="logo">FAZGAME</div>
    <div class="header-logos">
      <img src="https://api.iconify.design/simple-icons/playstation.svg" alt="PS">
      <img src="https://api.iconify.design/simple-icons/xbox.svg" alt="Xbox">
      <img src="https://api.iconify.design/simple-icons/nintendoswitch.svg" alt="Switch">
      <img src="https://api.iconify.design/mdi/desktop-classic.svg" alt="PC">
    </div>
  </div>
</header>

<div class="banner">
  <div class="banner-slide active" style="background-image:url('https://images.unsplash.com/photo-1542751371-adc38448a05e')"></div>
  <div class="banner-slide" style="background-image:url('https://images.unsplash.com/photo-1511512578047-dfb367046420')"></div>
  <div class="banner-content">
    <div class="banner-card">
      <h1 class="hero-logo">FAZ<span>GAME</span></h1>
      <p class="tagline"><strong>Faz</strong> Service, <strong>Faz</strong> Gaming</p>
      
      <div class="service-chips">
        <span class="service-chip primary" data-scroll="hot">Custom PC Build</span>
        <span class="service-chip" data-scroll="hot">PC Parts & Upgrade</span>
        <span class="service-chip" data-scroll="stock">Console & Games</span>
        <span class="service-chip" data-scroll="stock">Inventory & Stock</span>
      </div>

      <div class="hero-stats">
        <div class="stat"><h2 data-target="50">0</h2><p>Custom Builds</p></div>
        <div class="stat"><h2 data-target="500">0</h2><p>Happy Customers</p></div>
        <div class="stat"><h2 data-target="1">0</h2><p>Years Warranty</p></div>
      </div>

      <div class="social-row">
        <a class="social-item" href="https://www.tiktok.com/@syazeone" target="_blank"><img src="https://api.iconify.design/simple-icons/tiktok.svg"></a>
        <a class="social-item" href="https://wa.me/60163691936" target="_blank"><img src="https://api.iconify.design/simple-icons/whatsapp.svg"></a>
        <a class="social-item" href="https://www.instagram.com/fazgame_empire/" target="_blank"><img src="https://api.iconify.design/simple-icons/instagram.svg"></a>
        <a class="social-item" href="https://www.facebook.com/share/1DHZdLi62G/" target="_blank"><img src="https://api.iconify.design/simple-icons/facebook.svg"></a>
        <a class="social-item" href="https://t.me/fazgameofficial" target="_blank"><img src="https://api.iconify.design/simple-icons/telegram.svg"></a>
      </div>
    </div>
  </div>
</div>

<div class="sticky-cta">
  <a id="cta-whatsapp" href="#" class="btn">Chat on WhatsApp</a>
</div>

<section id="fast-sales" style="display:none;">
  <h2 class="section-title">Fast Sales</h2>
  <div class="section-subtitle">ðŸ”¥ While Stock Lasts</div>
  <div class="hot-grid">
    <div class="hot-card tilt-card">
      <span class="badge badge-left">USED</span>
      <span class="badge badge-right badge-red">LIMITED</span>
      <img src="images/ps5.jpg" alt="PS5">
      <div class="hot-card-content">
        <div class="hot-title">PS5 Disc Set</div>
        <div class="hot-desc">RM 1450 â€¢ Limited Stock</div>
      </div>
    </div>
    <div class="hot-card tilt-card">
      <span class="badge badge-left">USED</span>
      <span class="badge badge-right badge-red">LIMITED</span>
      <img src="images/switch.jpg" alt="Switch">
      <div class="hot-card-content">
        <div class="hot-title">Nintendo Switch 2</div>
        <div class="hot-desc">RM 1500 â€¢ Limited Stock</div>
      </div>
    </div>
  </div>
</section>

<section id="hot">
  <h2 class="section-title">Preorder PC Builds</h2>
  <div class="section-subtitle">ðŸ–¥ Custom Gaming PCs â€¢ Built On Demand</div>
  <div class="hot-grid">
    <div class="hot-card tilt-card"><span class="badge badge-right">PRE-ORDER</span><img src="images/pc1000.jpg" alt="PC"><div class="hot-card-content"><div class="hot-title">PC Budget from RM1,000</div><div class="hot-desc">Entry Gaming</div></div></div>
    <div class="hot-card tilt-card"><span class="badge badge-right">PRE-ORDER</span><img src="images/pc2000.jpg" alt="PC"><div class="hot-card-content"><div class="hot-title">PC Budget from RM2,000</div><div class="hot-desc">Entry Gaming</div></div></div>
    <div class="hot-card tilt-card"><span class="badge badge-right">PRE-ORDER</span><img src="images/pc3000.jpg" alt="PC"><div class="hot-card-content"><div class="hot-title">PC Budget from RM3,000</div><div class="hot-desc">Balanced Build</div></div></div>
    <div class="hot-card tilt-card"><span class="badge badge-right">PRE-ORDER</span><img src="images/pc3500.jpg" alt="PC"><div class="hot-card-content"><div class="hot-title">PC Budget from RM3,500</div><div class="hot-desc">High Performance</div></div></div>
    <div class="hot-card tilt-card"><span class="badge badge-right">PRE-ORDER</span><img src="images/custompc.jpg" alt="PC"><div class="hot-card-content"><div class="hot-title">Custom PC</div><div class="hot-desc">Free Setup</div></div></div>
  </div>
</section>

<div class="installment-banner">ðŸ’³ 0% Interest Installment Available â€¢ SPayLater</div>

<section id="preorder-console">
  <h2 class="section-title">Preorder Consoles</h2>
  <div class="section-subtitle">ðŸŽ® Used Units â€¢ Reserve Before Stock Arrival</div>

  <div class="hot-grid">
    <div class="hot-card tilt-card">
      <span class="badge badge-left">USED</span> <span class="badge badge-right">PRE-ORDER</span>
      <img src="images/ps4-slim.jpg" alt="PS4 Slim">
      <div class="hot-card-content"><div class="hot-title">PS4 Slim 500GB</div><div class="hot-desc">RM550</div></div>
    </div>
    <div class="hot-card tilt-card">
      <span class="badge badge-left">USED</span> <span class="badge badge-right">PRE-ORDER</span>
      <img src="images/ps4-pro.jpg" alt="PS4 Pro">
      <div class="hot-card-content"><div class="hot-title">PS4 Pro 1TB</div><div class="hot-desc">RM650</div></div>
    </div>
    <div class="hot-card tilt-card">
      <span class="badge badge-left">USED</span> <span class="badge badge-right">PRE-ORDER</span>
      <img src="images/ps5-fat.jpg" alt="PS5 Fat">
      <div class="hot-card-content"><div class="hot-title">PS5 Fat Disc</div><div class="hot-desc">RM1450</div></div>
    </div>
    <div class="hot-card tilt-card">
      <span class="badge badge-left">USED</span> <span class="badge badge-right">PRE-ORDER</span>
      <img src="images/ps5-slim.jpg" alt="PS5 Slim">
      <div class="hot-card-content"><div class="hot-title">PS5 Slim Disc</div><div class="hot-desc">RM1650</div></div>
    </div>
    <div class="hot-card tilt-card">
      <span class="badge badge-left">USED</span> <span class="badge badge-right">PRE-ORDER</span>
      <img src="images/ps5-pro.jpg" alt="PS5 Pro">
      <div class="hot-card-content"><div class="hot-title">PS5 Pro Digital</div><div class="hot-desc">RM2750</div></div>
    </div>
    <div class="hot-card tilt-card">
      <span class="badge badge-left">USED</span> <span class="badge badge-right">PRE-ORDER</span>
      <img src="images/switch-lite.jpg" alt="Switch Lite">
      <div class="hot-card-content"><div class="hot-title">Nintendo Switch Lite</div><div class="hot-desc">RM400</div></div>
    </div>
    <div class="hot-card tilt-card">
      <span class="badge badge-left">USED</span> <span class="badge badge-right">PRE-ORDER</span>
      <img src="images/switch-oled-white.jpg" alt="OLED White">
      <div class="hot-card-content"><div class="hot-title">Switch OLED White</div><div class="hot-desc">RM750</div></div>
    </div>
    <div class="hot-card tilt-card">
      <span class="badge badge-left">USED</span> <span class="badge badge-right">PRE-ORDER</span>
      <img src="images/switch-oled-neon.jpg" alt="OLED Neon">
      <div class="hot-card-content"><div class="hot-title">Switch OLED Neon</div><div class="hot-desc">RM750</div></div>
    </div>
    <div class="hot-card tilt-card">
      <span class="badge badge-left">USED</span> <span class="badge badge-right">PRE-ORDER</span>
      <img src="images/switch-zelda.jpg" alt="OLED Zelda">
      <div class="hot-card-content"><div class="hot-title">Switch OLED Zelda Edition</div><div class="hot-desc">RM850</div></div>
    </div>
    <div class="hot-card tilt-card">
      <span class="badge badge-left">USED</span> <span class="badge badge-right">PRE-ORDER</span>
      <img src="images/switch-splatoon.jpg" alt="OLED Splatoon">
      <div class="hot-card-content"><div class="hot-title">Switch OLED Splatoon Edition</div><div class="hot-desc">RM850</div></div>
    </div>
    <div class="hot-card tilt-card">
      <span class="badge badge-left">USED</span> <span class="badge badge-right">PRE-ORDER</span>
      <img src="images/switch-mario.jpg" alt="OLED Mario">
      <div class="hot-card-content"><div class="hot-title">Switch OLED Mario Edition</div><div class="hot-desc">RM850</div></div>
    </div>
    <div class="hot-card tilt-card">
      <span class="badge badge-left">USED</span> <span class="badge badge-right">PRE-ORDER</span>
      <img src="images/switch-pokemon.jpg" alt="OLED Pokemon">
      <div class="hot-card-content"><div class="hot-title">Switch OLED Pokemon Edition</div><div class="hot-desc">RM850</div></div>
    </div>
    <div class="hot-card tilt-card">
      <span class="badge badge-left">USED</span> <span class="badge badge-right">PRE-ORDER</span>
      <img src="images/switch-2.jpg" alt="Switch 2">
      <div class="hot-card-content"><div class="hot-title">Switch 2 Edition</div><div class="hot-desc">RM1700</div></div>
    </div>
  </div>
</section>

<section id="stock">
  <h2 class="section-title">Stock Available</h2>
  <div class="controls"><input id="search" class="search-box" placeholder="Search item..."></div>
  <div class="filter-tabs" id="filters"></div>
  <div class="product-grid" id="grid"></div>
</section>

<section id="payment">
  <h2 class="section-title" style="text-align:center">Payment Methods</h2>
  <div class="payment-icons">
    <div class="payment-item"><img src="https://cdn.simpleicons.org/shopee/ee4d2d" alt="SPayLater"><span class="shopee-text">SPayLater Available</span></div>
    <div class="payment-item"><img src="https://cdn.simpleicons.org/visa/1a1f71" alt="Visa"><span>FPX Online Banking</span></div>
  </div>
</section>

<footer>Â© 2026 FAZGAME â€¢ Faz Service, Faz Gaming</footer>

<script src="stock.js"></script>

<script>
/* --- 1. STOCK INVENTORY LOGIC --- */
let products = window.STOCK || []; // Fallback if stock.js is missing

const icons = {
  console:'https://api.iconify.design/mdi/console.svg',
  ps5:'https://api.iconify.design/simple-icons/playstation.svg',
  ps4:'https://api.iconify.design/simple-icons/playstation.svg',
  xbox:'https://api.iconify.design/simple-icons/xbox.svg',
  switch:'https://api.iconify.design/simple-icons/nintendoswitch.svg',
  pc:'https://api.iconify.design/mdi/desktop-classic.svg',
  other:'https://api.iconify.design/mdi/gamepad-variant.svg'
};

const categories = ['all', 'console', 'ps5', 'ps4', 'xbox', 'switch', 'pc', 'other'];
let activeCat = 'all';

const filters = document.getElementById('filters');
const grid = document.getElementById('grid');
const search = document.getElementById('search');

// Create Filter Buttons
categories.forEach(cat => {
  const btn = document.createElement('button');
  btn.className = 'filter-btn' + (cat === 'all' ? ' active' : '');
  btn.innerHTML = `${cat.toUpperCase()} <span class="filter-count" id="count-${cat}">0</span>`;
  btn.onclick = () => {
    activeCat = cat;
    document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
    btn.classList.add('active');
    renderProducts();
  };
  filters.appendChild(btn);
});

// Render Grid
function renderProducts() {
  const q = search.value.toLowerCase();
  const filtered = products.filter(p => (activeCat === 'all' || p.c === activeCat) && p.n.toLowerCase().includes(q));
  
  if (filtered.length === 0) {
    grid.innerHTML = `<div style="grid-column:1/-1; text-align:center; padding:40px; color:var(--accent)">No items found matching your search.</div>`;
  } else {
    grid.innerHTML = filtered.map(p => {
      // Determine badge colors dynamically based on your original setup
      const condClass = p.cond === 'new' ? 'rgba(255,216,77,.45)' : 'rgba(255,255,255,.12)';
      const typeClass = p.type === 'game' ? 'var(--badge-green)' : 'var(--accent)';
      const typeText = p.type === 'game' ? '#000' : '#000';
      
      return `
      <div class="product-card">
        <span class="card-badge card-badge-cond" style="background:${condClass}; color:#fff;">${p.cond || 'USED'}</span>
        <span class="card-badge card-badge-type" style="background:${p.type === 'game' ? '#3cff7f' : '#ffd84d'}; color:#000;">${p.type || 'CONSOLE'}</span>
        <div class="product-icon"><img src="${icons[p.c] || icons.other}"></div>
        <div class="product-info">
          <h4>${p.n}</h4>
          <div class="product-price">RM${p.p}</div>
        </div>
        <button class="product-buy" onclick="window.open('https://wa.me/60163691936?text=Inquiry: ${encodeURIComponent(p.n)}')">CHECK</button>
      </div>
    `}).join('');
  }

  // Update counts
  categories.forEach(c => {
    const el = document.getElementById('count-' + c);
    if(el) el.textContent = c === 'all' ? products.length : products.filter(p => p.c === c).length;
  });
}

search.oninput = renderProducts;
renderProducts();

/* --- 2. FAST SALES SORT (From your original code) --- */
const fastGrid = document.querySelector('#fast-sales .hot-grid');
if(fastGrid) {
  const cardsList = Array.from(fastGrid.children);
  cardsList.sort((a,b) => (b.querySelector('.badge-left')?1:0) - (a.querySelector('.badge-left')?1:0));
  cardsList.forEach(c => fastGrid.appendChild(c));
}

/* --- 3. UI, PRELOADER, & COUNTERS --- */
window.addEventListener("DOMContentLoaded", () => {
  // Loader
  let progress = 0;
  const bar = document.getElementById("loaderBar");
  const preloader = document.getElementById("preloader");
  const interval = setInterval(() => {
    progress += 5;
    if(bar) bar.style.width = progress + "%";
    if(progress >= 100) {
      clearInterval(interval);
      setTimeout(() => {
        preloader.classList.add("hide");
        startCounters();
      }, 400);
    }
  }, 40);

  // Lightbox
  const modal = document.getElementById("imageModal");
  const modalImg = document.getElementById("modalImg");

  document.addEventListener("click", (e) => {
    const card = e.target.closest(".hot-card");
    if(card) {
      const img = card.querySelector("img");
      if(img) {
        modalImg.src = img.src;
        modal.classList.add("show");
        document.body.style.overflow = "hidden";
      }
    }
  });

  modal.onclick = () => {
    modal.classList.remove("show");
    document.body.style.overflow = "auto";
  };
});

// Counters
function startCounters() {
  document.querySelectorAll(".stat h2").forEach(counter => {
    const target = parseInt(counter.dataset.target);
    let current = 0;
    const speedDivisor = 60; // adjusted for smoother speed
    const update = () => {
      current += target / speedDivisor;
      if(current < target) {
        counter.innerText = Math.ceil(current);
        requestAnimationFrame(update);
      } else {
        counter.innerText = target + "+";
        counter.classList.add("counter-glow"); 
      }
    };
    update();
  });
}

// Banner Slider
let currentSlide = 0;
const slides = document.querySelectorAll('.banner-slide');
setInterval(() => {
  slides[currentSlide].classList.remove('active');
  currentSlide = (currentSlide + 1) % slides.length;
  slides[currentSlide].classList.add('active');
}, 5000);

// Smooth Scroll for chips
document.querySelectorAll('[data-scroll]').forEach(chip => {
  chip.onclick = () => {
    const target = document.getElementById(chip.dataset.scroll);
    if(target) {
      // Offset for sticky header
      const y = target.getBoundingClientRect().top + window.pageYOffset - 120;
      window.scrollTo({top: y, behavior: 'smooth'});
    }
  };
});

/* --- 4. 3D TILT EFFECT --- */
const tiltCards = document.querySelectorAll('.tilt-card');
tiltCards.forEach(card => {
  if ('ontouchstart' in window) return; // Disable 3D tilt on touch devices for performance

  card.addEventListener('mousemove', e => {
    const rect = card.getBoundingClientRect();
    const x = e.clientX - rect.left;
    const y = e.clientY - rect.top;

    const centerX = rect.width / 2;
    const centerY = rect.height / 2;

    const rotateX = -(y - centerY) / 10; // adjusted for smoother rotation
    const rotateY = (x - centerX) / 10;

    card.style.transform = `rotateX(${rotateX}deg) rotateY(${rotateY}deg) translateY(-8px)`;
    card.style.setProperty('--x', `${x}px`);
    card.style.setProperty('--y', `${y}px`);
  });

  card.addEventListener('mouseleave', () => {
    card.style.transform = `rotateX(0deg) rotateY(0deg) translateY(0px)`;
  });
});

/* --- 5. CTA BUTTON --- */
document.getElementById("cta-whatsapp").addEventListener("click", function(e){
  e.preventDefault();
  const phone = "60163691936";
  const message = "Hi FAZGAME ðŸ‘‹ I would like to inquire about your products.";
  window.location.href = "https://api.whatsapp.com/send?phone=" + phone + "&text=" + encodeURIComponent(message);
});
</script>
</body>
</html>
